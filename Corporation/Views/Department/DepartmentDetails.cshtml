@model DepartmentDetailsModelView

@{
    ViewData["Title"] = "Department details";
}

<h2>@Model.Department.Name</h2>
@if (@Model.ParentDepartmentName != null)
{
    <h4>Parent department </h4>
    @Html.DisplayFor(modelItem => modelItem.ParentDepartmentName)
}
@if (@Model.Workers.Count != 0)
{
    <h4>Workers of department</h4>
    <table class="table">
        <thead>
        <tr>
            <th>
                Employee id
            </th>
            <th>
                Department dd
            </th>
            <th>
                Surname
            </th>
            <th>
                First name
            </th>
            <th>
                Patronymic
            </th>
            <th>
                Age
            </th>
            <th>
                Document series
            </th>
            <th>
                Document number
            </th>
            <th>
                Position
            </th>
            <th>
            </th>
        </tr>
        </thead>
        <tbody>
        @foreach (var employee in Model.Workers)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => employee.Id)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => employee.DepartmentId)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => employee.Surname)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => employee.FirstName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => employee.Patronymic)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => employee.Age)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => employee.DocSeries)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => employee.DocNumber)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => employee.Position)
                </td>
                <td>
                    <a asp-controller="Employee" asp-action="GetEmployee" asp-route-id="@employee.Id">Details</a>
                </td>
            </tr>
        }
        </tbody>
    </table>
}
@if (Model.ChildDepartments.Count != 0)
{
    <h4>Child departments</h4>
    <table class="table">
        <thead>
        <tr>
            <th>
                Department id
            </th>
            <th>
                Parent department id
            </th>
            <th>
                Code
            </th>
            <th>
                Name
            </th>
            <th>
            </th>
        </tr>
        </thead>
        <tbody>

        @foreach (var department in Model.ChildDepartments)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => department.Id)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => department.ParentDepartmentId)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => department.Code)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => department.Name)
                </td>
                <td>
                    <a asp-action="GetDepartment" asp-route-id="@department.Id">Details</a>
                </td>
            </tr>
        }
        </tbody>
    </table>
}